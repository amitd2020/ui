<div class="grid">
	<div class="col-8">
		<div class="grid">
			<div class="col-4">
				<div class="card h-full flex flex-column justify-content-center">
					<div class="flex align-items-center justify-content-center text-7xl font-bold text-teal-700 pb-6">{{ mAndAdataRes?.['totalProspensityScore'] }}</div>
					<div class="flex align-items-center justify-content-center text-base font-bold text-color-secondary ">{{ mAndAdataRes?.['totalReadiness'] | titlecase }}</div>
				</div>
			</div>
			<div class="col-8">
				<div class="card h-full">
					<h5 class="font-bold text-xl text-gray-700 py-4 ml-1">Scores By Country</h5>
					<div class="grid">
						<ng-container *ngFor="let val of scoresByCountryData">
							<div class="col-6">
								<div class="grid">
									<div class="col-fixed" style="margin-right: -15px;">
										<div class="text-center text-white p-3 bg-primary-800 font-bold text-xl" style="min-width: 80px; border: 1px solid #00534b;">{{val.value}}</div>
									</div>
									<div class="col">
										<div class="text-center surface-300	p-3 text-teal-700 font-bold" style="border: 1px solid #00534b;"> {{val.key | titlecase}} </div>
									</div>
								</div>
							</div>
						</ng-container>
					</div>
				</div>
			</div>
			<div class="col-12">
				<div class="card h-full">
					<div class="flex justify-content-between flex-wrap">
						<div class="flex align-items-center justify-content-center">
							<h5 class="font-bold text-base text-gray-700 p-2 ml-1">MSME info table <sup><i class="ui-icon-info-outline x-big-data-font text-600 ml-1" (mouseenter)="msmeInfoOverlay.show($event)" (mouseleave)="msmeInfoOverlay.hide($event)"></i></sup>
							</h5>
							<p-overlayPanel #msmeInfoOverlay [showCloseIcon]="false" [dismissable]="true" appendTo="body">
								<dg-msme-svg-popup-card></dg-msme-svg-popup-card>
							</p-overlayPanel>
						</div>
						<div class="flex align-items-center justify-content-center font-bold">Company Belongs to: <span class="text-cyan-600 ml-2">{{ this.mAndAdataRes?.['scoresByMSMECategory']?.['msmeCategory'] | titlecase }}</span>
						</div>
					</div>
			
					<p-table [value]="scoresByMSMECategoryData" [columns]="msmeColumnArray">
						<ng-template pTemplate="header" let-columns>
							<tr>
								<ng-container *ngFor="let col of columns">
									<th [ngClass]="{'text-right': col.field != 'key', 'pr-4': col.field != 'key'}">
										{{ col.header }}
									</th>
								</ng-container>
							</tr>
						</ng-template>
						<ng-template pTemplate="body" let-rowData let-columns="columns">
							<tr>
								<td *ngFor="let col of columns" [ngClass]="{'text-right': col.field != 'key', 'pr-4': col.field != 'key'}">
									<ng-container *ngIf="col.field === 'key'; else other">
										<strong>{{ rowData[col.field] | titlecase }}</strong>
									</ng-container>
									<ng-template #other>
										{{ rowData[col.field] && rowData[col.field] != 'null' ? rowData[col.field] : '-' }}
									</ng-template>
								</td>
							</tr>
						</ng-template>
					</p-table>
				</div>
			</div>
		</div>
	</div>
	<div class="col-4">
		<div class="card">
			<div class="grid">
				<div class="col-12">
					<div class="text-cyan-800 font-bold">Region-wise Propencity readiness data</div>
				</div>
				<div class="col-12">
					<div style="height: 50vh;">
						<dg-map-analysis [mapData]="{ region: mAndAdataRes['mapData'] }" [selectedFilter]="selectedFilter"   mapId="'mAndAMap'"></dg-map-analysis>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="grid">
	<div class="col-6">
		<div class="card h-full">
			<h5 class="font-bold text-base text-gray-700 p-2 ml-1">Figures by : <span class="text-green-500">{{ this.mAndAdataRes?.['scoresByIndustry']?.['companyIndustry'] | titlecase }}</span></h5>
			<p-table scrollable="true" scrollHeight=" 41vh" [value]="scoresByIndustryData" [columns]="msmeColumnArray">
				<ng-template pTemplate="header" let-columns>
					<tr>
						<ng-container *ngFor="let col of columns">	
							<th [ngClass]="{'text-right': col.field != 'key', 'pr-4': col.field != 'key', 'w-2': col.field != 'value', 'w-3': col.field !='companyCurrentScore'}" >
								{{ col.header }}
							</th>	
						</ng-container>
					</tr>
				</ng-template>
				<ng-template pTemplate="body" let-rowData let-columns="columns">
					<tr>
						<td *ngFor="let col of columns" [ngClass]="{'text-right': col.field != 'key', 'pr-4': col.field != 'key'}">
							<ng-container *ngIf="col.field === 'key'; else other">
								<strong>{{ rowData[col.field] | titlecase }}</strong>
							</ng-container>
							<ng-template #other>
								{{ rowData[col.field] && rowData[col.field] != 'null' ? rowData[col.field] : '-' }}
							</ng-template>						
						</td>
					</tr>
				</ng-template>
			</p-table>
		</div>
	</div>
	<div class="col-6">
		<div class="card h-full">
			<h5 class="font-bold text-base text-gray-700 p-2 ml-1">Region: <span class="text-primary-700">{{ this.mAndAdataRes?.['scoresByRegion']?.['companyRegion'] | titlecase }}</span></h5>
			<p-table [value]="scoresByRegionData" [columns]="msmeColumnArray">
				<ng-template pTemplate="header" let-columns>
					<tr>
						<ng-container *ngFor="let col of columns">	
							<th [ngClass]="{'text-right': col.field != 'key', 'pr-4': col.field != 'key'}">								
								{{ col.header }}
							</th>	
						</ng-container>
					</tr>
				</ng-template>
				<ng-template pTemplate="body" let-rowData let-columns="columns">
					<tr>
						<td *ngFor="let col of columns" [ngClass]="{'text-right': col.field != 'key', 'pr-4': col.field != 'key'}">
							<ng-container *ngIf="col.field === 'key'; else other">
								<strong>{{ rowData[col.field] | titlecase }}</strong>
							</ng-container>
							<ng-template #other>
								{{ rowData[col.field] && rowData[col.field] != 'null' ? rowData[col.field] : '-' }}
							</ng-template>						
						</td>
					</tr>
				</ng-template>
			</p-table>
		</div>
	</div>
</div>